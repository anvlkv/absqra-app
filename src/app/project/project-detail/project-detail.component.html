<div dragScroll [snap-disabled]="true" [drag-disabled]="!panning" [ngClass]="{'panning': panning}">
  <section class="project-page">
    <h3>Project</h3>
    <app-dynamic-state [state]="state">
      <ng-template #viewingTemplate>
        <app-project-thumbnail [dataItem]="dataItem">
        <button (click)="edit()">edit</button>
        <button [routerLink]="['/answer', dataItem.topSequenceId]">try</button>
        <button (click)="download()">download</button>
      </app-project-thumbnail>
      </ng-template>
      <ng-template #editingTemplate>
        <fieldset [formGroup]="projectForm">
          <div class="input-group">
            <label for="name">
              name
            </label>
            <input type="text" id="name" formControlName="name">
          </div>
          <div class="input-group">
            <label for="description">
              notes
            </label>
            <textarea id="description" formControlName="description"></textarea>
          </div>
          <button (click)="saveProjectHeader($event)">save</button>
        </fieldset>
      </ng-template>
    </app-dynamic-state>

    <app-dynamic-state [state]="state">
      <ng-template #defaultTemplate>
        <nav>
          <a [routerLink]="['design', dataItem.topSequenceId || sequenceDetailRouteParams.TOP]">design</a>
          <a [routerLink]="['respondents']">respondents</a>
          <a [routerLink]="['data']">data</a>
        </nav>
        <section>
          <router-outlet></router-outlet>
        </section>
      </ng-template>
    </app-dynamic-state>
  </section>
</div>
